#!@PERL_EXECUTABLE@ -W

use feature qw/switch/;
use Env qw(@LD_LIBRARY_PATH);

use Getopt::Long qw(:config no_ignore_case);

my ($package, $exe, $world);
my $init_dir="@MODULE_INIT_DIR@";
my @args;

my $result = GetOptions (
  'module=s' => \$package,
  'all' => \$world,
);

given ($package) {
  when ('tag-rename') {
    $exe = "@INSTALL_PREFIX_Debug@/bin/tag-rename";
  }
}

if ($init_dir) {
  push @args, sprintf('--init-dir=\"%s\"', $init_dir);
}

unshift @LD_LIBRARY_PATH, "@Boost_LIBRARY_DIRS@";

if (@args) {
  system($exe @args);
} else {
  system($exe);
}
